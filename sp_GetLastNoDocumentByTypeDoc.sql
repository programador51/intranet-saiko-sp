-- **************************************************************************************************************************************************
--	STORED PROCEDURE OVERVIEW INFORMATION
-- **************************************************************************************************************************************************
-- =============================================
-- Author:      Jose Luis Perez Olguin
-- Create date: 09-09-2021

-- Description: Get the number of the last document inserted (of an specific type)

-- ===================================================================================================================================
-- PARAMETERS:
-- @typeDocument: ID of the type document to get the last number

-- ===================================================================================================================================
-- **************************************************************************************************************************************************
--	REVISION HISTORY/LOG
-- **************************************************************************************************************************************************
--	Date			Programmer					Revision	    Revision Notes			
-- =================================================================================================
--  09-09-2021     Jose Luis Perez             1.0.0.0         Documentation and query		
-- *****************************************************************************************************************************

CREATE PROCEDURE sp_GetLastNoDocumentByTypeDoc(
    @typeDocument INT
)

AS BEGIN

    SELECT 
        idDocument,
        idTypeDocument,
        documentNumber

    FROM 
        Documents

    WHERE 
        idTypeDocument = @typeDocument

    ORDER BY documentNumber DESC

    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY

END